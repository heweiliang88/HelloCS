

[express中间件--Morgan_No.96-CSDN博客_morgan npm](https://blog.csdn.net/qq_14998713/article/details/62416901)

Morgan是一个node.js关于http请求的日志中间件



```
 "body-parser": "~1.13.2",
    "compression": "~1.6.0",
    "connect-redis": "^3.0.1",
    "cookie-parser": "~1.3.5",
    "debug": "~2.2.0",
    "ejs": "~2.3.3",
    "eventproxy": "~0.3.4",
    "express": "~4.13.1",
    "express-session": "^1.12.1",
    "less-middleware": "^2.0.1",
    "markdown-it": "~4.4.0",
    "mockjs": "~0.1.10",
    "morgan": "~1.6.1",
    "multiparty": "~4.1.2",
    "mysql": "~2.8.0",
    "node-schedule": "^0.6.0",
    "sequelize": "~3.5.1",
    "serve-favicon": "~2.3.0",
    "sha1": "^1.1.1",
    "simple-xml2json": "^1.2.3",
    "uuid": "~2.0.1"
```



工具类

```
自定义常量
module.exports = {
  CODE_ERROR: -1, // 请求响应失败code码
  CODE_SUCCESS: 0, // 请求响应成功code码
  CODE_TOKEN_EXPIRED: 401, // 授权失败
  PRIVATE_KEY: 'jackchen', // 自定义jwt加密的私钥
  JWT_EXPIRED: 60 * 60 * 24, // 过期时间24小时
} 

封装md5


jwt-token验证和解析函数


```







express-jwt

[Node.js 使用 express-jwt 解析 JWT - 张凯强-zkqiang - 博客园](https://www.cnblogs.com/zkqiang/p/11810203.html)



```
dbconfig.js

const mysql = {
    host: 'localhost', // 主机名称，一般是本机
	port: '3306', // 数据库的端口号，如果不设置，默认是3306
	user: 'root', // 创建数据库时设置用户名
	password: '123456', // 创建数据库时设置的密码
	database: 'my_test',  // 创建的数据库
	connectTimeout: 5000 // 连接超时
}
```

pm2默认的配置文件
[nodejs实践录：pm2配置文件ecosystem.config.js说明_李迟的专栏-CSDN博客](https://blog.csdn.net/subfate/article/details/86766243)

ecosystem.config.js

```
module.exports = {
  apps : [{
    name: 'todo_node_api',
    script: 'app.js',
    instances: 1,
    autorestart: true,
    watch: false,
    max_memory_restart: '1G',
    env: {
      NODE_ENV: 'development'
    },
    env_production: {
      NODE_ENV: 'production'
    }
  }],
```

